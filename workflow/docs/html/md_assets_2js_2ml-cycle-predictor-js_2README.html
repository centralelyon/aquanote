<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>annotations: ml-cycle-predictor-js</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">annotations
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_assets_2js_2ml-cycle-predictor-js_2README.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">ml-cycle-predictor-js</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a></p>
<h1><a class="anchor" id="autotoc_md1"></a>
Overview</h1>
<p><code>ml-cycle-predictor-js</code> is a JavaScript module for predicting the next swimming cycle (delta frame/time) using a NEAT neural network. It is designed for direct use in browser-based web applications, and relies on the DOM and global variables from the Aquanote project.</p>
<div class="fragment"><div class="line">assets/</div>
<div class="line">  js/</div>
<div class="line">    ml-cycle-predictor-js/</div>
<div class="line">      js/</div>
<div class="line">        predictor.js           # CyclePredictor class and prediction logic</div>
<div class="line">        utils.js               # Data normalization utilities</div>
<div class="line">      model/</div>
<div class="line">        best_cycle_predictor.json        # Serialized best AI model for predictions</div>
<div class="line">      README.md                # This documentation</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2"></a>
Files Description</h1>
<h2><a class="anchor" id="autotoc_md3"></a>
Model</h2>
<ul>
<li><b>best_cycle_predictor.json</b>: Serialized NEAT model (weights, structure, normalization) for each swimming style.</li>
</ul>
<h2><a class="anchor" id="autotoc_md4"></a>
JavaScript</h2>
<ul>
<li><b><a class="el" href="predictor_8js.html">predictor.js</a></b>: Exports the main function:<ul>
<li><code><a class="el" href="predictor_8js.html#ae86672f71f1e26ec9b8540bd8794eb6e">predit_delta_cycle_dos()</a></code>: Calcule le delta (prédiction du prochain cycle) selon la nage sélectionnée dans l'interface. Utilise les fonctions utilitaires pour préparer les features, normaliser, passer dans le réseau NEAT, puis dénormaliser la sortie.</li>
<li>Le modèle est chargé automatiquement au chargement du module (fetch asynchrone).</li>
</ul>
</li>
<li><b>utils.js</b>: Fonctions utilitaires pour la préparation et la normalisation des données :<ul>
<li><code>normalizeInput</code>, <code>denormalizeOutput</code>, <code>prepareInputDataDos</code>, <code>prepareInputDataFreestyle</code>, etc.</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md5"></a>
Data</h2>
<ul>
<li><b>sample_input.json</b>: Exemple d'entrée pour tests (non utilisé directement par le module, mais utile pour comprendre le format attendu).</li>
</ul>
<h1><a class="anchor" id="autotoc_md6"></a>
Usage</h1>
<ol type="1">
<li>Import (ou inclure via <code>&lt;script&gt;</code>) le fichier <code><a class="el" href="predictor_8js.html">assets/js/ml-cycle-predictor-js/js/predictor.js</a></code> dans votre projet.</li>
<li>Assurez-vous que l'environnement global (DOM) est prêt (éléments comme <code>#run_part1</code>, <code>#run_part2</code>, etc. doivent exister et être renseignés).</li>
<li>Appelez la fonction :</li>
</ol>
<div class="fragment"><div class="line"><span class="keyword">import</span> { <a class="code hl_function" href="predictor_8js.html#ae86672f71f1e26ec9b8540bd8794eb6e">predit_delta_cycle_dos</a> } <a class="code hl_variable" href="jquery-ui_8js.html#ace03b192fd101a1c5648340bc09b7229">from</a> <span class="stringliteral">&#39;./assets/js/ml-cycle-predictor-js/js/predictor.js&#39;</span>;</div>
<div class="line"><span class="keyword">const</span> delta = <a class="code hl_function" href="predictor_8js.html#ae86672f71f1e26ec9b8540bd8794eb6e">predit_delta_cycle_dos</a>();</div>
<div class="line"><span class="comment">// delta = nombre de frames prédit pour le prochain cycle</span></div>
<div class="ttc" id="ajquery-ui_8js_html_ace03b192fd101a1c5648340bc09b7229"><div class="ttname"><a href="jquery-ui_8js.html#ace03b192fd101a1c5648340bc09b7229">from</a></div><div class="ttdeci">spaces hsla from</div><div class="ttdef"><b>Definition</b> jquery-ui.js:1853</div></div>
<div class="ttc" id="apredictor_8js_html_ae86672f71f1e26ec9b8540bd8794eb6e"><div class="ttname"><a href="predictor_8js.html#ae86672f71f1e26ec9b8540bd8794eb6e">predit_delta_cycle_dos</a></div><div class="ttdeci">function export predit_delta_cycle_dos()</div><div class="ttdef"><b>Definition</b> predictor.js:10</div></div>
</div><!-- fragment --> <blockquote class="doxtable">
<p>&zwj;⚠️ Le module dépend de variables globales et du DOM (Aquanote). Il n'est pas autonome ni utilisable en Node pur. </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md7"></a>
Setup Instructions</h1>
<ol type="1">
<li>Clone or copiez le dossier <code>assets/js/ml-cycle-predictor-js</code> dans votre projet.</li>
<li>Importez le JS dans votre page ou module principal.</li>
<li>Vérifiez que les dépendances globales (DOM, variables) sont bien présentes.</li>
</ol>
<h1><a class="anchor" id="autotoc_md8"></a>
Notes</h1>
<ul>
<li>Tous les chemins sont relatifs à la racine du projet Aquanote.</li>
<li>Le modèle doit rester dans <code>assets/js/ml-cycle-predictor-js/model/</code>.</li>
<li>Le module n'est pas conçu pour être utilisé sans l'environnement Aquanote (DOM, variables globales, etc.).</li>
</ul>
<h1><a class="anchor" id="autotoc_md9"></a>
Files Description</h1>
<h2><a class="anchor" id="autotoc_md10"></a>
Model</h2>
<ul>
<li><b>best_model.json</b>: Contains the serialized architecture and weights of the best-performing AI model used for predicting the next cycle.</li>
<li><b>model_stats.json</b>: Stores performance metrics of the model, including:<ul>
<li>Percentage of exact predictions</li>
<li>Percentage of predictions within 1 frame</li>
<li>Additional relevant statistics</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md11"></a>
JavaScript</h2>
<ul>
<li><b><a class="el" href="predictor_8js.html">predictor.js</a></b>: Exports the <code>CyclePredictor</code> class, which includes methods for:<ul>
<li><code>loadModel</code>: Loads the AI model from <code>best_model.json</code>.</li>
<li><code>predictNextCycle</code>: Makes predictions based on input data.</li>
<li><code>getModelStats</code>: Retrieves model performance statistics from <code>model_stats.json</code>.</li>
</ul>
</li>
<li><b>utils.js</b>: Exports utility functions for:<ul>
<li><code>normalizeInput</code>: Preprocesses input data for the model.</li>
<li><code>denormalizeOutput</code>: Converts model output back to the original scale.</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md12"></a>
Data</h2>
<ul>
<li><b>sample_input.json</b>: Contains sample input data in JSON format for testing the model's prediction capabilities.</li>
</ul>
<h1><a class="anchor" id="autotoc_md13"></a>
Usage</h1>
<ol type="1">
<li>Load the model using the <code>CyclePredictor</code> class from <code><a class="el" href="predictor_8js.html">predictor.js</a></code>.</li>
<li>Use the <code>predictNextCycle</code> method to make predictions based on input data.</li>
<li>Access model performance statistics using the <code>getModelStats</code> method.</li>
</ol>
<h1><a class="anchor" id="autotoc_md14"></a>
Setup Instructions</h1>
<ol type="1">
<li>Clone the repository.</li>
<li>Ensure you have a JavaScript environment set up (Node.js or browser).</li>
<li>Include the <code><a class="el" href="predictor_8js.html">assets/js/ml-cycle-predictor-js/js/predictor.js</a></code> and <code><a class="el" href="ml-cycle-predictor-js_2js_2utils_8js.html">assets/js/ml-cycle-predictor-js/js/utils.js</a></code> files in your project.</li>
<li>Load the model and start making predictions using the provided methods. </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
