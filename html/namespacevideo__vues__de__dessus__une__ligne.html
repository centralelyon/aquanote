<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>annotations: video_vues_de_dessus_une_ligne Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">annotations
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('namespacevideo__vues__de__dessus__une__ligne.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">video_vues_de_dessus_une_ligne Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2d3fa5f86bf2263a20137c6b5eec5b6b" id="r_a2d3fa5f86bf2263a20137c6b5eec5b6b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacevideo__vues__de__dessus__une__ligne.html#a2d3fa5f86bf2263a20137c6b5eec5b6b">load_calibration_data</a> (json_file)</td></tr>
<tr class="separator:a2d3fa5f86bf2263a20137c6b5eec5b6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a545b54ad06ac588bbf5e4586c9cbb1d3" id="r_a545b54ad06ac588bbf5e4586c9cbb1d3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacevideo__vues__de__dessus__une__ligne.html#a545b54ad06ac588bbf5e4586c9cbb1d3">calculate_homography_matrix</a> (src_pts, dest_pts)</td></tr>
<tr class="separator:a545b54ad06ac588bbf5e4586c9cbb1d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62c46a11814ac896a9c57a84c4d3b14f" id="r_a62c46a11814ac896a9c57a84c4d3b14f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacevideo__vues__de__dessus__une__ligne.html#a62c46a11814ac896a9c57a84c4d3b14f">create_default_calibration</a> (video_width, video_height)</td></tr>
<tr class="separator:a62c46a11814ac896a9c57a84c4d3b14f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad708c0314e4e8c4df700957713410c50" id="r_ad708c0314e4e8c4df700957713410c50"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacevideo__vues__de__dessus__une__ligne.html#ad708c0314e4e8c4df700957713410c50">create_top_view_dimensions</a> (pool_length, pool_width, lane_number, video_width=None, video_height=None, pixels_per_meter=20)</td></tr>
<tr class="separator:ad708c0314e4e8c4df700957713410c50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f074d1714a3f6e39ada2085dc21b97a" id="r_a2f074d1714a3f6e39ada2085dc21b97a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacevideo__vues__de__dessus__une__ligne.html#a2f074d1714a3f6e39ada2085dc21b97a">adjust_calibration_points</a> (calib_data, lane_number, video_width=None, video_height=None)</td></tr>
<tr class="separator:a2f074d1714a3f6e39ada2085dc21b97a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adab3553bb1e068bdd64db4b6cefbaa3e" id="r_adab3553bb1e068bdd64db4b6cefbaa3e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacevideo__vues__de__dessus__une__ligne.html#adab3553bb1e068bdd64db4b6cefbaa3e">process_video_frame</a> (frame, homography_matrix, dimensions)</td></tr>
<tr class="separator:adab3553bb1e068bdd64db4b6cefbaa3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59bce114af7607f8c1a303dae6793977" id="r_a59bce114af7607f8c1a303dae6793977"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacevideo__vues__de__dessus__une__ligne.html#a59bce114af7607f8c1a303dae6793977">generate_top_view_video</a> (input_video, json_file, output_video, lane_number=4)</td></tr>
<tr class="separator:a59bce114af7607f8c1a303dae6793977"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf11fbcf8244648c67a8220e52dc7e81" id="r_acf11fbcf8244648c67a8220e52dc7e81"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacevideo__vues__de__dessus__une__ligne.html#acf11fbcf8244648c67a8220e52dc7e81">main</a> ()</td></tr>
<tr class="separator:acf11fbcf8244648c67a8220e52dc7e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">@file video_vues_de_dessus_une_ligne.py
@brief Génère une vue de dessus d'une ligne de natation à partir d'une vidéo latérale
Utilise l'homographie pour transformer la perspective et extraire une seule ligne de nage

Dépendances:
- OpenCV (cv2)
- NumPy
- JSON
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a2f074d1714a3f6e39ada2085dc21b97a" name="a2f074d1714a3f6e39ada2085dc21b97a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f074d1714a3f6e39ada2085dc21b97a">&#9670;&#160;</a></span>adjust_calibration_points()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">video_vues_de_dessus_une_ligne.adjust_calibration_points </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>calib_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lane_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>video_width</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>video_height</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Ajuste les points de calibration pour se concentrer sur une ligne spécifique

@param calib_data: Données de calibration chargées
@param lane_number: Numéro de la ligne à extraire (1-8)
@param video_width: Largeur de la vidéo (pour mode sans JSON)
@param video_height: Hauteur de la vidéo (pour mode sans JSON)
@return: Points source et destination ajustés
</pre> 
</div>
</div>
<a id="a545b54ad06ac588bbf5e4586c9cbb1d3" name="a545b54ad06ac588bbf5e4586c9cbb1d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a545b54ad06ac588bbf5e4586c9cbb1d3">&#9670;&#160;</a></span>calculate_homography_matrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">video_vues_de_dessus_une_ligne.calculate_homography_matrix </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>src_pts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dest_pts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Calcule la matrice d'homographie pour la transformation de perspective

@param src_pts: Points source (coordonnées vidéo originale)
@param dest_pts: Points destination (coordonnées vue de dessus)
@return: Matrice d'homographie 3x3
</pre> 
</div>
</div>
<a id="a62c46a11814ac896a9c57a84c4d3b14f" name="a62c46a11814ac896a9c57a84c4d3b14f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62c46a11814ac896a9c57a84c4d3b14f">&#9670;&#160;</a></span>create_default_calibration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">video_vues_de_dessus_une_ligne.create_default_calibration </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>video_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>video_height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Crée une calibration par défaut en utilisant les coins de la vidéo
Suppose que la vidéo est déjà en vue de dessus

@param video_width: Largeur de la vidéo
@param video_height: Hauteur de la vidéo
@return: Dictionnaire de calibration par défaut
</pre> 
</div>
</div>
<a id="ad708c0314e4e8c4df700957713410c50" name="ad708c0314e4e8c4df700957713410c50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad708c0314e4e8c4df700957713410c50">&#9670;&#160;</a></span>create_top_view_dimensions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">video_vues_de_dessus_une_ligne.create_top_view_dimensions </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pool_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pool_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lane_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>video_width</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>video_height</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pixels_per_meter</em> = <code>20</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Définit les dimensions de la vue de dessus pour une ligne spécifique

@param pool_length: Longueur de la piscine en mètres
@param pool_width: Largeur de la piscine en mètres  
@param lane_number: Numéro de la ligne (1-8)
@param video_width: Largeur de la vidéo (pour mode sans JSON)
@param video_height: Hauteur de la vidéo (pour mode sans JSON)
@param pixels_per_meter: Résolution en pixels par mètre
@return: Dimensions et coordonnées de la zone d'intérêt
</pre> 
</div>
</div>
<a id="a59bce114af7607f8c1a303dae6793977" name="a59bce114af7607f8c1a303dae6793977"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59bce114af7607f8c1a303dae6793977">&#9670;&#160;</a></span>generate_top_view_video()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">video_vues_de_dessus_une_ligne.generate_top_view_video </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>input_video</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>json_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>output_video</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lane_number</em> = <code>4</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Fonction principale pour générer la vidéo vue de dessus

@param input_video: Chemin vers la vidéo d'entrée
@param json_file: Chemin vers le fichier JSON de calibration (peut être None pour vidéo déjà en vue de dessus)
@param output_video: Chemin de sortie pour la vidéo générée
@param lane_number: Numéro de la ligne à extraire (1-8, défaut 4)
</pre> 
</div>
</div>
<a id="a2d3fa5f86bf2263a20137c6b5eec5b6b" name="a2d3fa5f86bf2263a20137c6b5eec5b6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d3fa5f86bf2263a20137c6b5eec5b6b">&#9670;&#160;</a></span>load_calibration_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">video_vues_de_dessus_une_ligne.load_calibration_data </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>json_file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Charge les données de calibration depuis un fichier JSON
Si json_file est None, utilise les coins de la vidéo comme points source

@param json_file: Chemin vers le fichier JSON contenant les points de calibration (peut être None)
@return: Dictionnaire contenant srcPts, destPts et métadonnées
</pre> 
</div>
</div>
<a id="acf11fbcf8244648c67a8220e52dc7e81" name="acf11fbcf8244648c67a8220e52dc7e81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf11fbcf8244648c67a8220e52dc7e81">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">video_vues_de_dessus_une_ligne.main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Fonction principale avec configuration directe des arguments
</pre> 
</div>
</div>
<a id="adab3553bb1e068bdd64db4b6cefbaa3e" name="adab3553bb1e068bdd64db4b6cefbaa3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adab3553bb1e068bdd64db4b6cefbaa3e">&#9670;&#160;</a></span>process_video_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">video_vues_de_dessus_une_ligne.process_video_frame </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>homography_matrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dimensions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Traite une frame vidéo pour créer la vue de dessus d'une ligne

@param frame: Frame vidéo originale
@param homography_matrix: Matrice d'homographie calculée
@param dimensions: Dimensions de sortie calculées
@return: Frame transformée (vue de dessus)
</pre> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacevideo__vues__de__dessus__une__ligne.html">video_vues_de_dessus_une_ligne</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
